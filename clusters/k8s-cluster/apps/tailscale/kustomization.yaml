---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: tailscale
  namespace: tailscale
resources:
  - namespace.yaml
  - serviceaccount.yaml
  - clusterrole.yaml
  - clusterrolebinding.yaml
  # Choose one deployment method:
  # - daemonset-simple.yaml              # Static secret approach
  - daemonset-simple-vault.yaml        # OpenBao integration with curl
  # - daemonset-with-vault-agent.yaml  # Vault Agent approach
  # - secret-from-openbao.yaml         # Vault Secrets Operator approach
  # - vault-auth.yaml
  # - vault-connection.yaml
commonLabels:
  app: tailscale
  managed-by: flux
